syntax = "proto3";

package sparus;

service event {
  rpc Sparus (Plugins) returns (stream Message);
  rpc Send_event (Message) returns (Empty);
  rpc Create_workflow(Options) returns (Empty);
}

enum EventType {
  INSTALL = 0;
  UPDATE = 1;
  DELETE = 2;
}

message Message {
  string plugin = 1;
  EventType event_type = 2;
}

message Empty {}

message Plugins {
  string repository_name = 1;
  map<string, string> list_plugin = 2;
}

message Options {
  string launcher_name = 1;
  string repository_name = 2;
  string game_name = 3;
  string speedupdate_server_url = 4;
  string plugins_url = 5;
  string config_file = 6;
}
